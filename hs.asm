	ORG	1600H	JMP	START	JMP	LEVELLEVELS:	DW	0PRINT:	EQU	138HPRINTC:	EQU	129HHEXOUT:	EQU	135HCOLOR:	EQU	156HSCR0:	EQU	18CHPLOT:	EQU	13EHLINE:	EQU	141HSELJS:	EQU	10HZAST:	EQU	4F00HCMEL0:	EQU	0C08HCMEL1:	EQU	CMEL0+31HCMEL2:	EQU	CMEL0+72HCMEL3:	EQU	CMEL0+0AFHCMEL4:	EQU	CMEL0+0D0HCMEL5:	EQU	CMEL0+0EFHCMEL6:	EQU	CMEL0+0FDHPALETG:	DB 0,192,7,12,199,34,54,255	DB 0,192,7,12,199,34,54,255PALET0:	DW	0,0,0,0,0,0,0,0PUSTP:	DW 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0START:	DI	XRA	A	OUT	10H	LXI	SP,100H	MVI	A,1	STA	WLEVEL	MVI	A,5	STA	WLIFE	XRA	A	STA	WPARSH	LDA	098EH	STA	INVER	LDA	SELJS	ANA	A	MVI	A,81H	JZ	$+5	MVI	A,93H	OUT	4	DI	LXI	H,GAMEND	SHLD	1	MVI	A,7	CALL	SCR0	MVI	C,13	CALL	PRINTC	MVI	A,15	CALL	COLOR	CALL	RASLEV	DI	LXI	H,DYSPLY	SHLD	39H	EIBEGI0:	MVI	C,1FH	LXI	SP,0100H	CALL	PRINTC	LXI	H,PALET0	SHLD	COLORS	LXI	H,SZWET	EI	MVI	M,16	XRA	A	CMP	M	JNZ	$-1	CALL	LEVLS	LXI	H,STENES	SHLD	STENS	LXI	H,PDSTS	SHLD	PODSTS	XRA	A	STA	WPODST	STA	PPARSH	CALL	LEVEL	CALL	NACH	LXI	H,PALETG	SHLD	COLORS	LXI	H,SZWET	MVI	M,16	XRA	A	CMP	M	JNZ	$-1	LXI	H,20H	SHLD	TPODST	LDA	WPARSH	STA	OLDPRS	XRA	A	STA	GOBOLD	STA	PADBLD	STA	JUMPF	STA	WSTENA	STA	FLYF	STA	FNOISE	CALL	CHMEL	JMP	BEGIN+3BEGIN:	CALL	CHANGE	CALL	OPEND	LXI	H,SPEED	MVI	A,5BE10G:	CMP	M	JNC	BE10G	MVI	M,0	IN	1	ANI	0E0H	JZ	EXIT	IN	1	ANI	0A0H	JZ	NEXTLV	LDA	FLYF	ANA	A	JNZ	FLYBEG	LDA	LETG	ANA	A	CNZ	LETGAZ	LDA	PADBLD	CPI	1	JZ	BEG15	ANA	A	JNZ	BEGIN	LDA	CTLKEY	ANI	0F0H	MOV	B,A	LDA	JUMPF	ANA	A	MOV	A,B	JNZ	BEG25	LDA	KEYS	INR	A	JZ	NOGOB	LXI	H,FNOISE	ANA	A	CNZ	OFNOIS	MOV	A,B	ANI	20H	JZ	JUMPBEG10: 	MOV	A,B	MVI	C,1	LXI	D,-1	ANI	10H	JZ	DWIG	INR	C	LXI	D,1	MOV	A,B	ANI	40H	JZ	DWIG	INR	C	INR	C	LXI	D,100H	MOV	A,B	ANI	80H	JZ	DWIG	LDA	JUMPF	ANA	A	JNZ	BEG20	LDA	CTLKEY	MOV	B,A	ANI	2	JZ	PROBIV	MOV	A,B	ANI	1	JZ	FLY	JMP	NOGOBNACH:	LXI	H,STR1	CALL	PRINTMSG:	LXI	H,STRLV	CALL	PRINT	LDA	WLEVEL	CALL	DEC	CALL	HEXOUT	LXI	H,STRLF	CALL	PRINT	LDA	WLIFE	CALL	DEC	CALL	HEXOUT	LXI	H,STRPAR	CALL	PRINT	LDA	WPARSH	CALL	HEXOUT	RETRND:	LHLD	SW	MVI	C,16RND10:	MOV	A,H	DAD	H	ANI	60H	JPE	$+4	INX	H	DCR	C	JNZ	RND10	SHLD	SW	RETKVAD:	LXI	D,1300HKVAD10:	CALL	RND	MOV	A,H	ORI	80H	CPI	0A0H	JNC	$+5	ADI	20H	MOV	H,A	XRA	A	MOV	M,A	INR	L	MOV	M,A	INR	L	MOV	M,A	INR	L	MOV	M,A	INR	L	MOV	M,A	INR	L	MOV	M,A	INR	L	MOV	M,A	INR	L	MOV	M,A	DCX	D	MOV	A,D	ORA	E	JNZ	KVAD10	RETNOISE:	LXI	H,DNOISE	DCR	M	RNZ	MVI	M,9	LHLD	ADRNS	MOV	A,M	ANA	A	JNZ	NOIS10	LDA	FNOISE	CPI	2	JNZ	NOIS02	MVI	A,36H	OUT	8	XRA	A	STA	FNOISE	RETNOIS20:	CALL	NSVZ	JMP	NSPRNSPR:	LDA	FPRB	ANA	A	JZ	NSPR10	XRA	A	STA	FPRB	MVI	A,10	STA	LMPR	MVI	A,66H	OUT	8	MVI	A,18H	OUT	10	RETNSPR10:	LXI	H,LMPR	MOV	A,M	ANA	A	RZ	DCR	M	DCR	A	JZ	NSPR12	CPI	5	RNZ	MVI	A,3AH	OUT	10	RETNSPR12:	MVI	A,66H	OUT	8	RETNSVZ:	LDA	FVZAT	ANA	A	JZ	NSVZ10	XRA	A	STA	FVZAT	MVI	A,10	STA	LMVZ	MVI	A,0A6H	OUT	8	MVI	A,2	OUT	9	RETNSVZ10:	LXI	H,LMVZ	MOV	A,M	ANA	A	RZ	DCR	M	DCR	A	JZ	NSVZ12	CPI	5	RNZ	MVI	A,1	OUT	9	RETNSVZ12:	MVI	A,0A6H	OUT	8	RETNOIS02:	LHLD	NADRNS	SHLD	ADRNS	MOV	A,MNOIS10:	INX	H	SHLD	ADRNS	MOV	L,A	MVI	H,0	DAD	H	DAD	H	MOV	D,H	MOV	E,L	DAD	H	DAD	D	MVI	A,36H	OUT	8	MOV	A,L	OUT	11	MOV	A,H	OUT	11	RETONNOIS:	SHLD	NADRNS	SHLD	ADRNS	MVI	A,1	STA	DNOISE	STA	FNOISE	RETOFNOIS:	MVI	M,0	MVI	A,36H	OUT	8	RETPVZAT:	STA	FVZAT	RETCHMEL:	LDA	WLEVEL	LXI	H,ONNOIS	PUSH	H	DCR	A	ANI	3	LXI	H,CMEL0	RZ	DCR	A	LXI	H,CMEL1	RZ	LXI	H,CMEL2	DCR	A	RZ	LXI	H,CMEL6	RETMSG0:	LDA	PPARSH	ANA	A	RZ	XRA	A	STA	PPARSH	LXI	H,STRPAR	CALL	PRINT	LDA	WPARSH	JMP	HEXOUTDEC:	PUSH	B	MOV	C,A	ANI	15	MOV	B,A	XRA	A	MOV	A,B	DAA	MOV	B,A	MOV	A,C	ANI	0F0H	RRC	RRC	RRC	RRC	MOV	C,A	INR	CDEC10:	DCR	C	JZ	DEC20	XRA	A	MVI	A,16H	ADD	B	DAA	MOV	B,A	JMP	DEC10DEC20:	MOV	A,B	POP	B	RETLEVLS:	LXI	H,TLEVEL	LXI	D,266	LDA	WLEVELLEVL10:	DAD	D	DCR	A	JNZ	LEVL10	SHLD	LEVELS	RETOPEND:	LDA	WBIDON	STA	ODOOR	RETLETGAZ:	XRA	A	STA	LETG	MVI	A,36H	OUT	8	LXI	H,STR2	JMP	PRINTNEXTLV:	LDA	WLEVEL	INR	A	STA	WLEVEL	CPI	29	JC	BEGI0	JMP	GMEN10FLYBEG:	LXI	H,STRFL	CALL	PRINT	LDA	TIMFLY	MOV	B,A	MVI	A,26H	OUT	8	MOV	A,B	OUT	11	CALL	DEC	CALL	HEXOUT	LXI	H,TIMFLY	DCR	M	JZ	FLYEND	LDA	KEYS	INR	A	JZ	NOGOB	LDA	CTLKEY	ANI	0F0H	LXI	D,-1	MVI	C,1	CPI	0E0H	JZ	FDWIG	LXI	D,1	MVI	C,2	CPI	0B0H	JZ	FDWIG	LXI	D,0FF00H	MVI	C,3	CPI	0D0H	JZ	FDWIG	LXI	D,100H	MVI	C,4	CPI	70H	JZ	FDWIG	JMP	NOGOBFLYEND:	XRA	A	STA	FLYF	MVI	A,36H	OUT	8	LHLD	POLBLD	DCR	H	CALL	WHO	CPI	84H	JZ	FLYE10	CPI	4	JNZ	BEGIN+3FLYE10:	MVI	B,0	CALL	RECORD	CALL	COORD	LXI	D,PUSTP	CALL	COPY	JMP	BEGIN+3FDWIG:	LHLD	POLBLD	DAD	D	CALL	OPRED	ANA	A	JZ	NOGOB	XCHG	SHLD	GOSHAG	MOV	A,C	STA	GOBOLD	JMP	BEGINFLY:	LDA	WPARSH	ANA	A	JZ	NOGOB	LHLD	POLBLD	DCR	H	CALL	WHO	CPI	80H	JZ	FLY10	ANA	A	JNZ	NOGOBFLY10: 	LDA	WPARSH	DCR	A	STA	WPARSH	MVI	A,1	STA	PPARSH	MVI	B,4	CALL	RECORD	CALL	COORD	LXI	D,PARSHL	CALL	COPY	MVI	A,30H	STA	TIMFLY	MVI	A,1	STA	FLYF	STA	LETG	DCR	A	STA	PADBLD	STA	JUMPF	LXI	H,STR0	CALL	PRINT	JMP	NOGOBPROBIV:	LHLD	POLBLD	LXI	D,100H	DAD	D	CALL	WHO	CPI	3	JNZ	NOGOB	XCHG	LHLD	STENS	MOV	M,E	INX	H	MOV	M,D	INX	H	MVI	M,11H	INX	H	SHLD	STENS	LDA	WSTENA	INR	A	STA	WSTENA	STA	FPRB	XCHG	MVI	B,0	CALL	RECORD	CALL	COORD	LXI	D,PUSTP	CALL	COPY	JMP	NOGOBBEG15: 	LDA	CTLKEY	ANI	0F0H	MOV	B,A	JMP	BEG10BEG20:	LHLD	GOSHAG	MVI	L,0	SHLD	GOSHAG	JMP	BEGINBEG25:	LDA	CTLKEY	ANI	20H	JZ	BEG10	XRA	A	STA	GOBOLD	STA	JUMPF	JMP	BEG10JUMP:	LHLD	POLBLD	LXI	D,0FF00H	DAD	D	CALL	WHO	ANA	A	JM	JUMP10	CPI	20H	JNC	GAMEND	ANA	A	JNZ	NOGOBJUMP10:	XCHG	SHLD	GOSHAG	MVI	A,3	STA	GOBOLD	STA	JUMPF	JMP	BEGINCHANGE:	CALL	CHBLD1	CALL	MSG0	CALL	SCUNER	CALL	PODSTV	CALL	STENY	CALL	CHL30	CALL	NDRAW	CALL	CHBLD3	CALL	CHBLD2	CALL	CHBLD4	RETSCUNER:	CALL	NPRO	CALL	SCANRB	LXI	H,OLEVEL	MVI	B,21SCUN10:	MVI	C,30SCUN12:	MOV	A,M	CPI	30H	JNC	SCUN14	CPI	10H	CNC	SCUN20SCUN14:	INX	H	DCR	C	JNZ	SCUN12	DCR	B	JNZ	SCUN10	CALL	CLMAS	RETSCUN20:	PUSH	B	PUSH	H	LXI	D,SCUN99	PUSH	D	SHLD	NKOORD	MOV	D,A	CALL	KOORD	MOV	A,D	ANI	15	JZ	SCUR	DCR	A	JZ	SCUD	DCR	A	JZ	SCUL	MVI	D,0	PUSH	HSCUU10:	INR	H	INR	D	CALL	WHO	CPI	10H	JC	SCUU12	CPI	30H	JNC	SCUU12	ANI	15	SUI	3	JZ	SCUU10SCUU12:	POP	H	DCR	H	CALL	WHO	CPI	4	JZ	SCU12U	ANA	A	JNZ	SCUU20SCU12U:	MOV	A,D	LHLD	NKOORD	PUSH	H	LXI	D,-30	DAD	D	POP	D	LXI	B,30	XCHGSCUU14:	PUSH	PSW	MOV	A,M	ORI	40H	STAX	D	MOV	D,H	MOV	E,L	DAD	B	POP	PSW	DCR	A	JNZ	SCUU14	STAX	D	RETSCUU20:	MOV	B,D	LHLD	NKOORD	LXI	D,30SCUU22:	MOV	A,M	ANI	0F0H	ORI	41H	MOV	M,A	DAD	D	DCR	B	JNZ	SCUU22	RETSCUD:	MVI	D,0SCUD10:	INR	D	INR	H	CALL	WHO	ANA	A	JZ	SCUD12	CPI	4	JZ	SCUD12	CPI	10H	JC	SCUD20	CPI	30H	JNC	SCUD20	ANI	15	DCR	A	JZ	SCUD10SCUD20:	LXI	B,30	LHLD	NKOORDSCUD22:	MOV	A,M	ANI	0F0H	ORI	43H	MOV	M,A	DAD	B	DCR	D	JNZ	SCUD22	RETSCUD12:	LHLD	NKOORD	LXI	B,30	MOV	A,DSCUD14:	SHLD	NKOORD	DAD	B	DCR	A	JNZ	SCUD14	MOV	A,D	XCHG	LHLD	NKOORD	LXI	B,-30SCUD16:	PUSH	PSW	MOV	A,M	ORI	40H	STAX	D	MOV	D,H	MOV	E,L	DAD	B	POP	PSW	DCR	A	JNZ	SCUD16	STAX	D	RETSCUR:	MVI	D,0	DCX	H	CALL	WHO	STA	OGR1	INX	HSCUR10:	INR	D	INX	H	CALL	WHO	ANA	A	JZ	SCUR12	CPI	4	JZ	SCUR12	CPI	10H	JC	SCUR20	CPI	30H	JNC	SCUR20	ANI	15	JZ	SCUR10SCUR20:	LHLD	NKOORD	MVI	E,42H	CPI	3	JZ	$+7	ANA	A	JP	SCUR22	LDA	OGR1	CPI	3	JZ	$+7	ANA	A	JP	SCUR22	PUSH	H	PUSH	D	CALL	KOORD	XCHG	LHLD	POLBLD	MOV	A,D	SUB	H	DCR	A	POP	D	POP	H	JNZ	SCUR22	MVI	E,40HSCUR22:	MOV	A,M	ORA	E	MOV	M,A	INX	H	DCR	D	JNZ	SCUR22	RETSCUR12:	LHLD	NKOORD	MOV	A,DSCUR14:	INX	H	DCR	A	JNZ	SCUR14	MOV	B,D	PUSH	H	POP	D	DCX	HSCUR16:	MOV	A,M	ORI	40H	STAX	D	DCX	H	DCX	D	DCR	B	JNZ	SCUR16	XRA	A	STAX	D	RETSCUL:	MVI	D,0	PUSH	HSCUL10:	INX	H	INR	D	CALL	WHO	STA	OGR1	CPI	10H	JC	SCUL12	CPI	30H	JNC	SCUL12	ANI	15	SUI	2	JZ	SCUL10SCUL12:	POP	H	DCX	H	CALL	WHO	CPI	4	JZ	SCU12L	ANA	A	JNZ	SCUL20SCU12L:	LHLD	NKOORD	PUSH	H	MOV	B,D	POP	D	DCX	HSCUL14:	LDAX	D	ORI	40H	MOV	M,A	INX	H	INX	D	DCR	B	JNZ	SCUL14	MVI	M,0	RETSCUL20:	LHLD	NKOORD	MVI	E,40H	CPI	3	JZ	$+7	ANA	A	JP	SCUL22	LDA	OGR1	CPI	3	JZ	$+7	ANA	A	JP	SCUL22	PUSH	H	PUSH	D	CALL	KOORD	XCHG	LHLD	POLBLD	MOV	A,D	SUB	H	DCR	A	POP	D	POP	H	JNZ	SCUL22	MVI	E,42HSCUL22:	MOV	A,M	ANI	0F0H	ORA	E	MOV	M,A	INX	H	DCR	D	JNZ	SCUL22	RETNDRAW:	LXI	D,OLEVEL+30	LXI	H,OLEV	MVI	B,20NDRW10:	MVI	C,30NDRW12:	LDAX	D	CMP	M	CNZ	NDRW20	INX	H	INX	D	DCR	C	JNZ	NDRW12	DCR	B	JNZ	NDRW10	RETNDRW20:	PUSH	H	PUSH	D	PUSH	B	ANA	A	LXI	D,PUSTP	JZ	NDRW22	CPI	80H	JZ	NDRW22	ANI	7FH	CPI	6	LXI	D,BIDONP	JZ	NDRW22	CPI	7	LXI	D,PARSHP	JZ	NDRW22	CPI	10H	JC	NDRW99	CPI	30H	JNC	NDRW99	ANI	20H	LXI	D,PEREGP	JZ	NDRW24	MOV	A,M	CPI	20H	JNC	NDRW99	LXI	D,CHERPNDRW22:	CALL	KOORD	CALL	COORD	CALL	COPYNDRW99:	POP	B	POP	D	POP	H	RETNDRW24:	MOV	A,M	CPI	20H	JNC	NDRW22	CPI	10H	JNC	NDRW99	JMP	NDRW22SCUN99:	POP	H	POP	B	RETNPRO:	LXI	H,OLEVEL+30	LXI	D,OLEV	MVI	B,19NPRO10:	MVI	C,30NPRO12:	MOV	A,M	STAX	D	INX	H	INX	D	DCR	C	JNZ	NPRO12	DCR	B	JNZ	NPRO10	RETCLMAS:	LXI	H,OLEVEL+30	MVI	B,19CLMS10:	MVI	C,30CLMS12:	MOV	A,M	ANI	0BFH	MOV	M,A	INX	H	DCR	C	JNZ	CLMS12	DCR	B	JNZ	CLMS10	RETCHBLD4:	LDA	FLYF	ANA	A	RNZ	LDA	GOBOLD	ANA	A	RZ	CPI	3	RNC	LHLD	POLBLD	PUSH	PSW	CALL	COORD	POP	PSW	DCR	A	LXI	D,VANIA5	JZ	COPY	LXI	D,VANIA3	JMP	COPYPODSTV:	LDA	WPODST	ANA	A	RZ	MOV	D,A	LXI	H,TPODST	DCR	M	RNZ	LXI	H,20H	SHLD	TPODSTPODS10:	MOV	L,D	PUSH	D	MVI	H,0	DAD	H	LXI	D,PDSTS-2	DAD	D	MOV	E,M	INX	H	MOV	D,M	XCHG	CALL	WHO	ANA	A	JZ	PODS20	CPI	9	JNZ	PODS30	MVI	B,0	CALL	RECORD	CALL	COORD	LXI	D,PUSTP	CALL	COPYPODS30:	POP	D	DCR	D	JNZ	PODS10	RETPODS20:	MVI	B,9	CALL	RECORD	CALL	COORD	LXI	D,PODSTP	CALL	COPY	JMP	PODS30CHBLD3:	XRA	A	STA	UDAR	LHLD	POLBLD	CALL	WHO	CPI	4	JZ	CHB350	CPI	84H	JZ	CHB350	CPI	20H	JNC	GAMEND	PUSH	H	CPI	10H	CZ	CHB300	CPI	11H	CZ	CHB310	CPI	12H	CZ	CHB320	CPI	13H	CZ	CHB330	CALL	WHO	ANA	A	JZ	CHB340	CPI	4	JZ	CHB340	ANA	A	JP	GAMENDCHB340:	MVI	B,4	CALL	RECORD	SHLD	POLBLD	CALL	COORD	LXI	D,VANIAP	MVI	A,1	STA	UDAR	CALL	COPY	POP	H	LDA	FLYF	ANA	A	RZ	XRA	A	STA	FLYF	DCR	H	CALL	WHO	CPI	84H	JZ	CHB342	CPI	4	RNZCHB342:	MVI	B,0	CALL	RECORD	CALL	COORD	LXI	D,PUSTP	JMP	COPYCHB300:	INX	H	RETCHB310:	INR	H	RETCHB320:	DCX	H	RETCHB330:	DCR	H	RETCHB3F0:	DCR	H	CALL	WHO	CPI	84H	RZ	CPI	4	RZ	XRA	A	STA	FLYF	RETCHB350:	LDA	FLYF	ANA	A	JNZ	CHB3F0	PUSH	H	INR	H	CALL	WHO	POP	H	ANA	A	RM	CPI	20H	JNC	GAMEND	CPI	8	JZ	GAMEND	CPI	10H	RC	MOV	B,A	ANI	1	RNZ	PUSH	H	MOV	A,B	CPI	10H	CZ	CHB360	CPI	12H	CZ	CHB370	CALL	WHO	POP	D	CPI	80H	JZ	CHB355	ANA	A	RNZCHB355:	XCHG	MVI	B,0	CALL	RECORD	PUSH	D	CALL	COORD	LXI	D,PUSTP	CALL	COPY	POP	H	MVI	B,4	CALL	RECORD	SHLD	POLBLD	CALL	COORD	LXI	D,VANIAP	JMP	COPYCHB360:	INX	H	RETCHB370:	DCX	H	RETGAMEND:	LXI	H,WLIFE	DCR	M	MOV	A,M	DCR	A	JM	GMEN10	EI	LXI	H,CMEL5	CALL	ONNOIS	LXI	H,FNOISE	MVI	M,2	PUSH	H	CALL	KVAD	POP	H	XRA	A	CMP	M	JNZ	$-1	LXI	H,WPARSH	LDA	OLDPRS	CMP	M	JNC	$+4	MOV	M,A	JMP	BEGI0GMEN10:	LXI	B,5838H	MVI	A,2	CALL	PLOT	MVI	A,1	CALL	COLOR	LXI	B,0A8C8H	MVI	A,2	CALL	LINE	MVI	A,7	CALL	COLOR	LXI	B,5A3AH	MVI	A,2	CALL	PLOT	LXI	B,0A6C6H	MVI	A,1	CALL	LINE	LXI	B,5C3CH	MVI	A,2	CALL	PLOT	LXI	B,0A4C4H	MVI	A,1	CALL	LINE	LXI	B,8849H	MVI	A,2	CALL	PLOT	MVI	A,3	LXI	B,304H	CALL	LINE	LXI	H,STRGMO	CALL	PRINT	LXI	B,5C40H	MVI	A,2	CALL	PLOT	LXI	B,502H	MVI	A,3	CALL	LINE	LXI	H,STRGM0	CALL	PRINT	LXI	H,CMEL4	EI	CALL	ONNOIS	LXI	H,FNOISE	MVI	M,2	XRA	A	CMP	M	JNZ	$-1EXIT:	LXI	H,ZAST	SHLD	1	JMP	0SCANRB:	LXI	H,OLEVEL	XRA	A	STA	WBIDON	MVI	B,21SCNB10:	MVI	C,30SCNB20:	MOV	A,M	CPI	6	CZ	SCNB30	CPI	86H	CZ	SCNB30	CPI	7	CZ	SCNB30	CPI	87H	CZ	SCNB30	INX	H	DCR	C	JNZ	SCNB20	DCR	B	JNZ	SCNB10	RETSCNB30:	PUSH	PSW	PUSH	H	PUSH	B	STA	WSCNB	ANI	7FH	LXI	H,WBIDON	CPI	6	JNZ	$+4	INR	M	LXI	H,SCNB38	PUSH	H	CALL	KOORD	PUSH	H	INR	H	CALL	WHO	POP	H	ANA	A	JZ	SCNB32	CPI	80H	JZ	SCNB32	CPI	10H	RC	CPI	30H	RNC	ANI	15	JZ	SCNB34	DCR	A	RZ	DCR	A	JZ	SCNB36	PUSH	H	DCR	H	CALL	WHO	POP	D	CPI	80H	JZ	SCNB40	ANA	A	RNZSCNB40:	XCHG	MVI	B,0	CALL	RECORD	XCHG	LDA	WSCNB	ANI	7FH	ORI	40H	MOV	B,A	JMP	RECORDSCNB32:	PUSH	H	LDA	WSCNB	MOV	B,A	CALL	CWHO	CMP	B	JZ	SCN32B	INR	H	POP	D	JMP	SCNB40SCN32B:	INR	H	CALL	CWHO	POP	H	CPI	10H	RC	CPI	30H	RNC	PUSH	H	INR	H	POP	D	JMP	SCNB40SCNB34:	PUSH	H	INX	H	CALL	WHO	POP	D	CPI	80H	JZ	SCNB40	ANA	A	RNZ	JMP	SCNB40SCNB36:	PUSH	H	DCX	H	CALL	WHO	POP	D	CPI	80H	JZ	SCNB40	ANA	A	RNZ	JMP	SCNB40SCNB38:	POP	B	POP	H	POP	PSW	RETSTENY:	LDA	WSTENA	ANA	A	RZ	MOV	B,A	LXI	H,STENESSTEN05:	INX	H	INX	H	MOV	E,M	DCR	E	CZ	STEN10	MOV	M,E	INX	HSTEN12:	DCR	B	JNZ	STEN05	RETSTEN10:	PUSH	H	PUSH	D	PUSH	B	DCX	H	MOV	D,M	DCX	H	MOV	E,M	XCHG	CALL	WHO	ANA	A	JNZ	STEN20	MVI	B,3	CALL	RECORD	CALL	COORD	LXI	D,STENAP	CALL	COPY	POP	B	POP	D	POP	H	PUSH	H	PUSH	D	PUSH	B	INX	H	PUSH	H	DCX	H	DCX	H	DCX	H	POP	D	DCR	B	JZ	STEN16STEN15:	LDAX	D	MOV	M,A	INX	H	INX	D	LDAX	D	MOV	M,A	INX	H	INX	D	LDAX	D	MOV	M,A	INX	H	INX	D	DCR	B	JNZ	STEN15STEN16:	POP	B	LHLD	STENS	DCX	H	DCX	H	DCX	H	SHLD	STENS	LDA	WSTENA	DCR	A	STA	WSTENA	POP	D	POP	H	POP	PSW	DCX	H	DCX	H	JMP	STEN12STEN20:	POP	B	POP	D	POP	H	INR	E	RETCHBLD2:	LDA	UDAR	ANA	A	JNZ	CHB1L0	LDA	JUMPF	ANA	A	JNZ	CHB10LCHB2L0:	LDA	FLYF	ANA	A	RNZ	LHLD	POLBLD	LXI	D,100H	DAD	D	CALL	WHO	CPI	80H	JZ	CHB3L0	ANA	A	JNZ	CHB20LCHB3L0:	MVI	A,4	STA	GOBOLD	STA	PADBLD	XCHG	SHLD	GOSHAG	RETCHB1L0:	XRA	A	STA	JUMPF	STA	GOBOLD	JMP	CHB2L0CHB10L:	DCR	A	STA	JUMPF	RNZ	STA	GOBOLD	INR	A	STA	PADBLD	RETCHB20L:	XRA	A	STA	PADBLD	RETINCPAR:	LDA	WPARSH	INR	A	CPI	9	RNC	STA	WPARSH	STA	PPARSH	RETCHBLD1:	LDA	JUMPF	ANA	A	CNZ	CHBL10	LDA	GOBOLD	ANA	A	RZ	LHLD	POLBLD	SHLD	PLBLD1	MVI	B,0	CALL	RECORD	CALL	COORD	CALL	CHL10	CALL	COPY	LDA	FLYF	ANA	A	JZ	CHVN10	LHLD	POLBLD	DCR	H	MVI	B,0	CALL	RECORD	CALL	COORD	LXI	D,PUSTP	CALL	COPYCHVN10:	LHLD	POLBLD	XCHG	LHLD	GOSHAG	DAD	D	SHLD	POLBLD	CALL	WHO	CPI	7	PUSH	PSW	CZ	INCPAR	POP	PSW	CPI	6	CZ	PVZAT	CPI	7	CZ	PVZAT	MVI	B,4	CALL	RECORD	CALL	COORD	SHLD	PLBLD0	CALL	CHL20	CALL	COPY	LDA	FLYF	ANA	A	RZ	LHLD	POLBLD	DCR	H	CALL	WHO	CPI	80H	JZ	CHVN20	ANA	A	JNZ	CHVN30CHVN20:	MVI	B,4	CALL	RECORD	CALL	COORD	LXI	D,PARSHL	JMP	COPYCHVN30:	XRA	A	STA	FLYF	RETCHL10:	LDA	FLYF	ANA	A	JNZ	CHL13	LDA	GOBOLD	DCR	A	JZ	CHL11	DCR	A	JZ	CHL12CHL13:	LXI	D,PUSTP	RETCHL11:	LXI	D,VANIA5	RETCHL12:	LXI	D,VANIA3	RETCHL20:	LDA	FLYF	ANA	A	JNZ	CHL22	LDA	GOBOLD	SUI	3	JM	CHL13	JZ	CHL21CHL22:	LXI	D,VANIA6	RETCHL21:	LXI	D,VANIAP	RETCHL30:	LDA	FLYF	ANA	A	RNZ	LDA	GOBOLD	CPI	3	RNC	LHLD	PLBLD1	CALL	WHO	CPI	80H	JZ	CHL31	ANA	A	JNZ	CHL32CHL31:	CALL	COORD	LXI	D,PUSTP	CALL	COPYCHL32:	LHLD	POLBLD	CALL	COORD	LDA	GOBOLD	ANA	A	LXI	D,VANIAP	JZ	CHL33	LXI	D,VANIA4	DCR	A	JZ	CHL33	LXI	D,VANIA2	DCR	A	JZ	CHL33	LXI	D,PUSTPCHL33:	JMP	COPYCHBL10:	LHLD	POLBLD	DCR	H	CALL	WHO	CPI	80H	JZ	CHBL12	ANA	A	JNZ	CHBL15CHBL12:	LHLD	GOSHAG	MOV	A,L	ANA	A	RZ	XCHG	LDA	GOBOLD	MOV	C,A	LHLD	POLBLD	DAD	D	CALL	OPRED	ANA	A	RNZCHBL15:	XRA	A	STA	GOBOLD	STA	JUMPF	RETHDCMP:	MOV	A,H	CMP	D	RNZ	MOV	A,L	CMP	E	RETNOGOB:	XRA	A	STA	GOBOLD	JMP	BEGINDWIG:	LHLD	POLBLD	LDA	JUMPF	ANA	A	JNZ	DWIG10DWIG05:	DAD	D	CALL	OPRED	ANA	A	JZ	NOGOB	XCHG	SHLD	GOSHAG	MOV	A,C	STA	GOBOLD	JMP	BEGINDWIG10:	MOV	A,C	CPI	4	JZ	NOGOB	MVI	D,-1	PUSH	H	PUSH	D	MVI	E,0	DAD	D	CALL	OPRED	POP	D	POP	H	ANA	A	JZ	NOGOB	MOV	A,C	DCR	A	JNZ	DWIG05	MVI	D,0FEH	JMP	DWIG05OPRED:	CALL	WHO	CPI	14	JZ	OPRB30	CPI	1	JZ	OPRB10	CPI	3	JZ	OPRB10	CPI	5	JZ	OPRB10	CPI	20H	JNC	OPRB20	CPI	8	JNC	OPRB10OPRB5:	MVI	A,1	RETOPRB10:	XRA	A	RETOPRB20:	ANI	80H	JNZ	OPRB5	JMP	GAMENDOPRB30:	MOV	A,C	CPI	3	JNC	OPRB10	LDA	ODOOR	ANA	A	JNZ	OPRB10PEREH:	LXI	H,CMEL3	CALL	ONNOIS	LXI	H,FNOISE	MVI	M,2	XRA	A	CMP	M	JNZ	$-1	LXI	H,WLIFE	INR	M	JMP	NEXTLVWHO:	PUSH	H	PUSH	D	PUSH	B	CALL	WHO00	MOV	A,M	POP	B	POP	D	POP	H	RETCWHO:	PUSH	H	PUSH	D	PUSH	B	CALL	WHO00	LXI	D,-600H	DAD	D	MOV	A,M	POP	B	POP	D	POP	H	RETRECORD:	PUSH	H	PUSH	D	PUSH	PSW	PUSH	B	CALL	WHO00	POP	B	MOV	A,M	ANI	80H	ORA	B	MOV	M,A	POP	PSW	POP	D	POP	H	RETWHO00: 	LXI	D,OLEVEL	XCHG	LXI	B,30	MOV	A,DWHO10:	ANA	A	JZ	WHO20	DAD	B	DCR	A	JMP	WHO10WHO20:	MOV	A,EWHO30:	ANA	A	RZ	INX	H	DCR	A	JMP	WHO30COORD:	PUSH	D	PUSH	B	XCHG	LXI	H,VIDEO	MOV	A,ECOOR10:	ANA	A	JZ	COOR20	INR	H	DCR	A	JMP	COOR10COOR20:	MOV	A,D	LXI	B,-10COOR30:	ANA	A	JZ	COOR40	DAD	B	DCR	A	JNZ	COOR30COOR40:	POP	B	POP	D	RETCOPLEV:	LXI	H,OLEVEL	LXI	D,CLEVEL	MVI	B,21COPL10:	MVI	C,30COPL12:	MOV	A,M	STAX	D	INX	H	INX	D	DCR	C	JNZ	COPL12	DCR	B	JNZ	COPL10	RETLEVEL:	LHLD	LEVELS	SHLD	TABLES	LXI	D,OLEVEL+31	XRA	A	STA	LPOINT	CALL	LEVRAS	LXI	D,OLEVEL	LXI	H,VIDEO	MVI	B,21LEV10:	MVI	C,30	PUSH	HLEV20:	LDAX	D	INX	D	PUSH	D	DCR	A	JZ	FUND	DCR	A	JZ	PSZ	DCR	A	JZ	STENA	DCR	A	JZ	VANIA	DCR	A	JZ	PEREG	DCR	A	JZ	BIDON	DCR	A	JZ	PARSH	DCR	A	JZ	CHER	DCR	A	JZ	PODST	DCR	A	JZ	PEREG0	DCR	A	JZ	PEREG1	DCR	A	JZ	CHER0	DCR	A	JZ	CHER1	DCR	A	JZ	DOORLEV30:	POP	D	INR	H	DCR	C	JNZ	LEV20	POP	H	PUSH	D	LXI	D,-10	DAD	D	POP	D	DCR	B	JNZ	LEV10	CALL	COPLEV	RETVANIA:	LXI	D,VANIAP	PUSH	H	CALL	KOORD	SHLD	POLBLD	POP	HLEV15:	CALL	COPY	JMP	LEV30KOORD: 	MVI	A,30	SUB	C	MOV	L,A	MVI	A,21	SUB	B	MOV	H,A	RETSTENA:	LXI	D,STENAP	JMP	LEV15BIDON:	LXI	D,BIDONP	JMP	LEV15PEREG:	LXI	D,PEREGP	JMP	LEV15PEREG0:	POP	D	PUSH	D	DCX	D	XCHG	MVI	M,10H	XCHG	JMP	PEREGPEREG1:	POP	D	PUSH	D	DCX	D	XCHG	MVI	M,11H	XCHG	JMP	PEREGFUND:	LXI	D,FUNDP	JMP	LEV15PSZ:	POP	D	PUSH	D	DCX	D	XCHG	MVI	M,80H	XCHG	LXI	D,PUSTP	JMP	LEV15PARSH:	LXI	D,PARSHP	JMP	LEV15CHER:	LXI	D,CHERP	JMP	LEV15CHER0:	POP	D	PUSH	D	DCX	D	XCHG	MVI	M,20H	XCHG	JMP	CHERCHER1:	POP	D	PUSH	D	DCX	D	XCHG	MVI	M,21H	XCHG	JMP	CHERPODST:	PUSH	H	LXI	H,WPODST	INR	M	LHLD	PODSTS	XCHG	CALL	KOORD	XCHG	MOV	M,E	INX	H	MOV	M,D	INX	H	SHLD	PODSTS	POP	H	LXI	D,PODSTP	JMP	LEV15DOOR:	LXI	D,DOORP	JMP	LEV15COPY:	PUSH	H	CALL	COPY10	POP	H	RETCOPY10:	PUSH	B	MVI	C,10COPY20:	LDAX	D	MOV	M,A	PUSH	H	PUSH	D	MVI	A,20H	ADD	H	MOV	H,A	PUSH	H	LXI	H,10	DAD	D	XCHG	POP	H	LDAX	D	MOV	M,A	MVI	A,20H	ADD	H	MOV	H,A	PUSH	H	LXI	H,10	DAD	D	XCHG	POP	H	LDAX	D	MOV	M,A	POP	D	POP	H	INX	D	DCR	L	DCR	C	JNZ	COPY20	POP	B	RETGETCOD:	LDA	LPOINT	ANA	A	JZ	GETC10	XRA	A	STA	LPOINT	MOV	A,M	INX	H	ANI	0FH	RETGETC10:	INR	A	STA	LPOINT	MOV	A,M	ANI	0F0H	RLC	RLC	RLC	RLC	RETLEVRAS:	MVI	B,19LEVR10:	MVI	C,28LEVR12:	CALL	GETCOD	STAX	D	INX	D	DCR	C	JNZ	LEVR12	INX	D	INX	D	DCR	B	JNZ	LEVR10	RETRASLEV:	LXI	H,OLEVEL	CALL	RASL10	MVI	B,19	LXI	D,29RASL20:	MVI	M,1	DAD	D	MVI	M,1	INX	H	DCR	B	JNZ	RASL20RASL10:	MVI	C,30	MVI	M,1	INX	H	DCR	C	JNZ	RASL10+2	RETDYSPLY:	PUSH	H	PUSH	D	PUSH	B	PUSH	PSW	LXI	H,SZWET	MOV	A,M	ANA	A	JZ	DYSP20	DCR	M	LXI	B,15	LHLD	COLORS	DAD	BDYSP10:	MOV	A,C	OUT	2	MOV	A,MINVER:	NOP	OUT	12	DCX	H	OUT	12	INR	B	OUT	12	DCR	B	OUT	12	INR	B	OUT	12	DCR	B	OUT	12	DCR	C	OUT	12	JP	DYSP10DYSP20:	MVI	A,8AH	LXI	H,SPEED	INR	M	OUT	0	XRA	A	OUT	3	IN	2	STA	KEYS	STA	CTLKEY	INR	A	JZ	DSPL10	MVI	A,0FEH	OUT	3	IN	2	MOV	B,A	MVI	A,7FH	OUT	3	IN	2	ORI	7FH	RLC	RLC	MOV	C,A	MOV	A,B	ANA	C	STA	CTLKEYDSPL10:	MVI	A,88H	OUT	0	XRA	A	OUT	1	OUT	2	DCR	A	OUT	3	CALL	DSPL20	LDA	FNOISE	ANA	A	CNZ	NOISE	CALL	NOIS20	POP	PSW	POP	B	POP	D	POP	H	EI	RETDSPL20:	LDA	SELJS	DCR	A	JZ	JOYS	DCR	A	JZ	JOYP	XRA	A	OUT	7	IN	7	CMA	LXI	H,TABJU	JMP	JOYS10JOYS:	MVI	A,40H	OUT	5	IN	6	LXI	H,TABJ	CALL	JOYS10	MVI	A,20H	OUT	5	IN	6	LXI	H,TABJ	CALL	JOYS10	RETJOYP:	IN	14	LXI	H,TABJ	CALL	JOYS10	IN	15	LXI	H,TABJ	JMP	JOYS10JOYS10:	MOV	C,A	MVI	B,5	LXI	D,CTLKEYJOYS12:	MOV	A,C	ANA	M	INX	H	JNZ	JOYS14	LDAX	D	ANA	M	STAX	D	STA	KEYSJOYS14:	INX	H	DCR	B	JNZ	JOYS12	RETTABJ:	DB 2,0EFH,1,0BFH,4,0DFH,8,7FH,80H,0FDHTABJU:	DB 10H,0EFH,40H,0BFH,80H,0DFH,20H,7FH,8,0FDHKEYS:	DB	0CTLKEY:	DB	0LPOINT:	DB	0GOBOLD:	DB	0JUMPF:	DB	0PADBLD:	DB	0WSTENA:	DB	0UDAR:	DB	0WPODST:	DB	0WPARSH:	DB	0WBIDON:	DB	0WLEVEL:	DB	0WLIFE:	DB	0ODOOR:	DB	0TIMFLY:	DB	0FLYF:	DB	0PRISS:	DB	0LETG:	DB	0SZWET:	DB	0PPARSH:	DB	0SPEED:	DB	0WSCNB:	DB	0FNOISE:	DB	0DNOISE:	DB	0FVZAT:	DB	0LMVZ:	DB	0OGR1:	DB	0FPRB:	DB	0LMPR:	DB	0OLDPRS:	DB	0POLBLD:	DW	0GOSHAG:	DW	0PLBLD1:	DW	0PLBLD0:	DW	0TABLES:	DW	0STENS:	DW	0PODSTS:	DW	0TPODST:	DW	0NKOORD:	DW	0COLORS:	DW	0ADRNS:	DW	0NADRNS:	DW	0SW:	DW	1VIDEO:	EQU	0A1FFH-10OLEVEL:	EQU	7800HCLEVEL:	EQU	7200HOLEV:	EQU	7C00HSTENES:	EQU	7600HPDSTS:	EQU	7680HTLEVEL:	EQU	3000HFILE:	EQU	2700HVANIAP:	EQU	FILESTENAP:	EQU	FILE+60BIDONP:	EQU	FILE+30PEREGP:	EQU	FILE+90VANIA2: EQU	FILE+120VANIA3:	EQU	FILE+150VANIA4:	EQU	FILE+180VANIA5:	EQU	FILE+210VANIA6:	EQU	FILE+240FUNDP:	EQU	FILE+270PSZP:	EQU	FILE+300PARSHP:	EQU	FILE+330PODSTP:	EQU	FILE+360PARSHL:	EQU	FILE+390CHERP:	EQU	FILE+420DOORP:	EQU	FILE+450STR1:	DB 1BH,59H,36H,24H	DB 'ı“œ◊≈Œÿ:01    ˚¡“Ÿ:00    '	DB 'ˆ…⁄Œ…:04',0STRLV:	DB 1BH,59H,36H,2CH,0STRPAR:	DB 1BH,59H,36H,37H,0STRLF:	DB 1BH,59H,36H,43H,0STR0:	DB 1BH,59H,37H,2CH	DB 'Ï≈‘’ﬁ…  «¡⁄:',0STR2:	DB 1BH,59H,37H,2CH	DB '              ',0STRFL:	DB 1BH,59H,37H,38H,0STRGMO:	DB 'ÈÁÚ·',13,0STRGM0:	DB 'ÔÎÔÓ˛ÂÓ·',13,0